/* ================================================
   STREAMPIREX VIDEO EDITOR - PREMIERE PRO LAYOUT
   Version 3.1 - Complete Merge: Zero-Gap + All Selectors
   ================================================ */

/* ================================================
   CSS CUSTOM PROPERTIES
   ================================================ */
:root {
  /* Core backgrounds - Premiere Pro dark palette */
  --ed-bg-darkest: #1a1a1a;
  --ed-bg-dark: #232323;
  --ed-bg-panel: #2d2d2d;
  --ed-bg-surface: #383838;
  --ed-bg-hover: #3e3e42;
  --ed-bg-active: #4a4a4e;
  --ed-bg-selected: #264f78;

  /* Borders - very subtle */
  --ed-border: #1a1a1a;
  --ed-border-light: #404040;
  --ed-border-panel: #2a2a2a;

  /* Text */
  --ed-text: #cccccc;
  --ed-text-dim: #888888;
  --ed-text-muted: #666666;
  --ed-text-bright: #e8e8e8;

  /* Accents */
  --ed-accent: #00ffc8;
  --ed-accent-dim: rgba(0, 255, 200, 0.15);
  --ed-blue: #4a9eff;
  --ed-red: #ff6b6b;
  --ed-orange: #FF6600;
  --ed-purple: #b180d7;
  --ed-yellow: #ffd700;
  --ed-green: #00d4aa;

  /* Timeline */
  --ed-timeline-bg: #1e2127;
  --ed-timeline-ruler: #282c34;
  --ed-timeline-header: #252830;
  --ed-playhead: #ffd700;

  /* Resize handles */
  --ed-resize-handle: 4px;
  --ed-resize-color: transparent;
  --ed-resize-hover: var(--ed-accent);

  /* Shadows */
  --ed-shadow-light: 0 2px 4px rgba(0, 0, 0, 0.2);
  --ed-shadow-medium: 0 4px 8px rgba(0, 0, 0, 0.3);
  --ed-shadow-heavy: 0 8px 16px rgba(0, 0, 0, 0.4);

  /* Transitions */
  --ed-fast: all 0.1s ease;
  --ed-smooth: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

/* ================================================
   RESET & MAIN CONTAINER
   ================================================ */
.video-editor-pro {
  width: 100%;
  height: 100vh;
  background: var(--ed-bg-darkest);
  color: var(--ed-text);
  font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
  font-size: 12px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  box-sizing: border-box;
  line-height: 1.4;
  margin: 0 !important;
  padding: 0 !important;
}

.video-editor-pro *,
.video-editor-pro *::before,
.video-editor-pro *::after {
  box-sizing: border-box;
}

/* ================================================
   PREMIERE PRO NAVBAR (top menu bar)
   ================================================ */
.editor-navbar {
  display: flex;
  align-items: center;
  background: var(--ed-bg-panel);
  border-bottom: 1px solid var(--ed-border);
  height: 26px;
  padding: 0 6px;
  font-size: 12px;
  user-select: none;
  flex-shrink: 0;
  z-index: 500;
}

.editor-navbar .nav-logo {
  display: flex;
  align-items: center;
  gap: 4px;
  margin-right: 12px;
  padding: 2px 8px;
  background: linear-gradient(135deg, var(--ed-accent), #00b894);
  border-radius: 3px;
  color: #000;
}

.editor-navbar .nav-logo svg { color: #000; }
.editor-navbar .nav-logo span { font-size: 10px; font-weight: 700; }
.editor-navbar .nav-spacer { flex: 1; }

.editor-navbar .menu-container { position: relative; }

.editor-navbar .menu-button {
  background: transparent;
  border: none;
  color: #c0c0c0;
  padding: 3px 8px;
  font-size: 12px;
  cursor: pointer;
  border-radius: 2px;
  transition: background 0.1s;
}

.editor-navbar .menu-button:hover,
.editor-navbar .menu-button.active {
  background: #3d3d3d;
  color: #fff;
}

.editor-navbar .project-title {
  font-size: 11px;
  color: #777;
}

/* Dropdown Menu */
.menu-dropdown {
  position: absolute;
  top: 100%;
  left: 0;
  background: var(--ed-bg-panel);
  border: 1px solid #1a1a1a;
  border-radius: 4px;
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.5);
  min-width: 220px;
  z-index: 1000;
  padding: 4px 0;
  animation: menuDrop 0.12s ease;
}

@keyframes menuDrop {
  from { opacity: 0; transform: translateY(-3px); }
  to { opacity: 1; transform: translateY(0); }
}

.menu-dropdown .menu-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  padding: 5px 12px;
  background: transparent;
  border: none;
  color: #d0d0d0;
  font-size: 12px;
  cursor: pointer;
  text-align: left;
}

.menu-dropdown .menu-item:hover { background: #3d3d3d; }
.menu-dropdown .menu-item:disabled { color: #555; cursor: default; }
.menu-dropdown .menu-item .item-label { display: flex; align-items: center; gap: 8px; }
.menu-dropdown .menu-item .item-shortcut { color: #777; font-size: 11px; font-family: 'JetBrains Mono', monospace; }
.menu-dropdown .menu-item .checkmark { width: 14px; color: var(--ed-accent); text-align: center; }
.menu-dropdown .menu-separator { height: 1px; background: #444; margin: 3px 8px; }

/* ================================================
   TOP TOOLBAR (below navbar)
   ================================================ */
.editor-menu-bar {
  display: flex;
  align-items: center;
  padding: 3px 8px !important;
  background: var(--ed-bg-dark) !important;
  border-bottom: 1px solid var(--ed-border) !important;
  min-height: 38px !important;
  gap: 4px !important;
  flex-shrink: 0;
  flex-wrap: wrap;
  width: 100%;
}

/* Menu bar section layout */
.editor-menu-bar .menu-section:first-child {
  flex-shrink: 0;
}

.editor-menu-bar .menu-section:nth-child(2) {
  flex: 0 1 auto;
}

.editor-menu-bar .menu-section:last-child {
  flex-shrink: 0;
  margin-left: auto;
}

.menu-section {
  display: flex;
  align-items: center;
  gap: 6px;
  flex-shrink: 0;
}

/* Project Info */
.project-info {
  display: flex;
  align-items: center;
  gap: 10px;
}

.project-info h2 {
  margin: 0;
  font-size: 14px;
  font-weight: 600;
  color: var(--ed-text-bright);
  white-space: nowrap;
}

/* Tier Badge */
.tier-badge-small {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 3px 8px;
  background: linear-gradient(135deg, #ffd700 0%, #ff9500 100%);
  border-radius: 10px;
  font-size: 9px;
  font-weight: 700;
  text-transform: uppercase;
  color: #000;
  white-space: nowrap;
  letter-spacing: 0.5px;
}

/* Workspace Buttons - Header */
.workspace-buttons {
  display: flex;
  gap: 4px;
}

.workspace-btn {
  display: flex;
  align-items: center;
  gap: 5px;
  padding: 6px 10px;
  background: #2a2a2a;
  border: 1px solid #404040;
  color: #a0a0a0;
  border-radius: 4px;
  cursor: pointer;
  font-size: 11px;
  font-weight: 500;
  transition: var(--ed-fast);
  white-space: nowrap;
}

.workspace-btn:hover {
  background: #353535;
  border-color: #505050;
  color: #fff;
}

.workspace-btn.active {
  background: var(--ed-accent-dim);
  border-color: var(--ed-accent);
  color: var(--ed-accent);
}

/* Playback Controls - Top Bar */
.playback-controls-top {
  display: flex;
  align-items: center;
  gap: 2px;
  padding: 3px;
  background: #252525;
  border-radius: 4px;
}

.control-btn-small {
  width: 28px;
  height: 28px;
  border: none;
  border-radius: 3px;
  background: transparent;
  color: #888;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: var(--ed-fast);
}

.control-btn-small:hover {
  background: #333;
  color: #fff;
}

.control-btn-play-small {
  width: 32px;
  height: 32px;
  border: none;
  border-radius: 3px;
  background: var(--ed-accent);
  color: #000;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: var(--ed-fast);
}

.control-btn-play-small:hover {
  background: #00e6b4;
}

/* Timeline Display - Timecode */
.timeline-display {
  font-family: 'JetBrains Mono', 'Consolas', 'Monaco', monospace;
  font-size: 12px;
  font-weight: 600;
  color: var(--ed-accent);
  background: var(--ed-bg-darkest);
  padding: 6px 10px;
  border-radius: 3px;
  border: 1px solid #333;
  white-space: nowrap;
  letter-spacing: 1px;
}

/* Save Button - Top Bar */
.save-btn-top {
  display: flex;
  align-items: center;
  gap: 5px;
  padding: 6px 12px;
  background: var(--ed-blue);
  color: #fff;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 11px;
  font-weight: 600;
  transition: var(--ed-fast);
  white-space: nowrap;
}

.save-btn-top:hover {
  background: var(--ed-purple);
}

/* Export Button - Top Bar */
.export-btn-top {
  display: flex;
  align-items: center;
  gap: 5px;
  padding: 6px 12px;
  background: linear-gradient(135deg, var(--ed-accent), #00b894);
  color: #000;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 11px;
  font-weight: 600;
  transition: var(--ed-fast);
  white-space: nowrap;
}

.export-btn-top:hover {
  background: linear-gradient(135deg, #00e6b4, #00a383);
  transform: translateY(-1px);
}

/* ================================================
   MAIN LAYOUT — ZERO GAP PREMIERE STYLE
   ================================================ */
.editor-main-layout {
  display: flex;
  flex: 1;
  min-height: 0;
  overflow: hidden;
}

/* ================================================
   LEFT PANEL — Tools & Effects (resizable width)
   ================================================ */
.editor-left-panel {
  width: 260px;
  min-width: 180px;
  max-width: 400px;
  background: var(--ed-bg-panel);
  border-right: 1px solid var(--ed-border);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  position: relative;
  flex-shrink: 0;
  resize: horizontal;
}

/* Resize handle visual indicator on right edge */
.editor-left-panel::after {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  width: var(--ed-resize-handle);
  height: 100%;
  cursor: col-resize;
  background: var(--ed-resize-color);
  transition: background 0.15s;
  z-index: 10;
}

.editor-left-panel:hover::after {
  background: rgba(0, 255, 200, 0.3);
}

.editor-left-panel > div:first-child {
  flex-shrink: 0;
}

.editor-toolbar {
  padding: 10px;
  display: flex;
  flex-direction: column;
  gap: 14px;
  overflow-y: auto;
  overflow-x: hidden;
  flex: 1;
}

.toolbar-section h4 {
  margin: 0 0 8px 0;
  color: var(--ed-text-bright);
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.section-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  cursor: pointer;
  padding: 4px 6px;
  margin-bottom: 8px;
  border-radius: 3px;
}

.section-header:hover { background: rgba(255,255,255,0.04); }

.section-header h4 {
  margin: 0;
  font-size: 11px;
}

.dropdown-toggle {
  background: none;
  border: none;
  color: var(--ed-text-dim);
  cursor: pointer;
  padding: 2px;
  display: flex;
  align-items: center;
}

/* Tool Grid */
.tool-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 3px;
}

.tool-btn {
  width: 100%;
  aspect-ratio: 1;
  max-height: 40px;
  border: 1px solid var(--ed-border-light);
  border-radius: 3px;
  background: var(--ed-bg-dark);
  color: var(--ed-text);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: var(--ed-fast);
}

.tool-btn:hover { background: var(--ed-bg-hover); border-color: #555; }
.tool-btn.active { background: var(--ed-blue); border-color: var(--ed-blue); color: #fff; }

/* Workspace Quick Access */
.workspace-quick-access {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.workspace-access-btn {
  width: 100%;
  padding: 7px 10px;
  background: var(--ed-bg-dark);
  border: 1px solid var(--ed-border-light);
  color: var(--ed-text);
  border-radius: 3px;
  cursor: pointer;
  font-size: 11px;
  display: flex;
  align-items: center;
  gap: 6px;
  transition: var(--ed-fast);
}

.workspace-access-btn:hover { background: var(--ed-bg-hover); border-color: var(--ed-blue); }

/* ================================================
   IMPORT MEDIA BUTTON
   ================================================ */
.import-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  width: 100%;
  padding: 10px 12px;
  background: linear-gradient(135deg, var(--ed-accent), #00b894);
  color: #000;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-size: 12px;
  font-weight: 700;
  transition: var(--ed-smooth);
  box-shadow: 0 2px 8px rgba(0, 255, 200, 0.2);
}

.import-btn:hover { transform: translateY(-1px); box-shadow: 0 4px 14px rgba(0, 255, 200, 0.3); }
.import-btn:active { transform: translateY(0); }
.import-btn:disabled { background: #333; color: #666; cursor: not-allowed; box-shadow: none; transform: none; }
.import-btn svg { width: 16px; height: 16px; }
.hidden-file-input { display: none; }

/* ================================================
   CENTER PANEL — Preview + Timeline (fills remaining space)
   ================================================ */
.editor-center-panel {
  flex: 1;
  display: flex;
  flex-direction: column;
  background: var(--ed-bg-darkest);
  min-width: 0;
  overflow: hidden;
}

/* ================================================
   DUAL MONITOR AREA — Zero gap, side by side
   ================================================ */
.preview-area-container {
  display: flex;
  min-height: 200px;
  flex: 1 1 55%;
  position: relative;
  overflow: hidden;
  gap: 0 !important;
  padding: 0 !important;
  margin: 0 !important;
}

/* Vertical resize handle between monitors and timeline */
.preview-area-container::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: var(--ed-resize-handle);
  cursor: row-resize;
  background: var(--ed-resize-color);
  transition: background 0.15s;
  z-index: 10;
}

.preview-area-container:hover::after {
  background: rgba(0, 255, 200, 0.3);
}

/* Individual monitor panels — NO padding, NO gaps */
/* !important needed because JSX has inline style={{ padding: '10px' }} */
.preview-area {
  flex: 1;
  display: flex;
  flex-direction: column;
  padding: 0 !important;
  margin: 0 !important;
  min-width: 0;
  position: relative;
}

/* Divider between source & program monitors */
.preview-area + .preview-area {
  border-left: 2px solid var(--ed-border);
}

/* Monitor container */
.preview-container {
  flex: 1;
  display: flex;
  flex-direction: column;
  background: #1a1a1a;
  overflow: hidden;
  border-radius: 0 !important;
  border: none !important;
  margin: 0 !important;
  padding: 0 !important;
}

.preview-container > div:first-child {
  border-radius: 0 !important;
}

/* Monitor viewport */
.preview-screen {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #000;
  position: relative;
  min-height: 180px;
}

.preview-content {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
}

.preview-placeholder {
  text-align: center;
  color: var(--ed-text-muted);
  z-index: 1;
}

.preview-placeholder p { margin: 8px 0 4px; font-size: 13px; }
.preview-resolution { font-size: 11px; color: var(--ed-text-dim); }

/* Preview Overlay Info */
.preview-overlay-info {
  margin-top: 12px;
  padding: 8px 12px;
  background: rgba(0, 0, 0, 0.7);
  border-radius: 4px;
}

.preview-clip-name {
  font-size: 12px;
  font-weight: 500;
  color: white;
}

.preview-compositing-info {
  font-size: 10px;
  color: var(--ed-text-dim);
  margin-top: 4px;
}

/* Safe Area Guides */
.safe-area-guides {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
}

.safe-area-outer {
  position: absolute;
  top: 5%;
  left: 5%;
  right: 5%;
  bottom: 5%;
  border: 1px solid rgba(255, 255, 255, 0.3);
  border-radius: 2px;
}

.safe-area-inner {
  position: absolute;
  top: 10%;
  left: 10%;
  right: 10%;
  bottom: 10%;
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 2px;
}

/* Vectorscope Overlay */
.vectorscope-overlay {
  position: absolute;
  top: 20px;
  right: 20px;
  width: 100px;
  height: 100px;
  background: rgba(0, 0, 0, 0.7);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
}

.vectorscope-circle {
  width: 80px;
  height: 80px;
  border: 1px solid var(--ed-green);
  border-radius: 50%;
  position: relative;
}

.vectorscope-info {
  font-size: 8px;
  color: var(--ed-text-muted);
  margin-top: 4px;
}

/* Monitor bottom controls */
.preview-controls {
  height: 32px;
  background: var(--ed-bg-dark);
  border-top: 1px solid #1a1a1a;
  display: flex;
  align-items: center;
  padding: 0 8px;
  gap: 4px;
  flex-shrink: 0;
}

.preview-control-btn {
  width: 24px;
  height: 24px;
  border: none;
  border-radius: 3px;
  background: transparent;
  color: #777;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: var(--ed-fast);
}

.preview-control-btn:hover { background: #3a3a3a; color: #ccc; }

.zoom-display {
  font-size: 11px;
  color: var(--ed-text-dim);
  font-family: 'Consolas', monospace;
  min-width: 30px;
  text-align: center;
}

.preview-spacer { flex: 1; }

.preview-controls .add-to-timeline-btn {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 4px 10px;
  background: var(--ed-accent);
  border: none;
  border-radius: 3px;
  color: #000;
  font-size: 10px;
  font-weight: 600;
  cursor: pointer;
  margin-left: 6px;
  transition: var(--ed-fast);
}

.preview-controls .add-to-timeline-btn:hover { background: #00e6b4; }

/* ================================================
   MEDIA BIN / PROJECT PANEL
   ================================================ */
.media-bin-panel {
  background: var(--ed-bg-dark);
  border-top: 1px solid var(--ed-border);
  min-height: 120px;
  max-height: 260px;
  display: flex;
  flex-direction: column;
}

.media-bin-panel .media-grid-item {
  background: var(--ed-bg-surface);
  border: 1px solid var(--ed-border-light);
  border-radius: 4px;
  overflow: hidden;
  cursor: grab;
  transition: var(--ed-fast);
  position: relative;
}

.media-bin-panel .media-grid-item:hover {
  border-color: var(--ed-accent);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

.media-bin-panel .media-grid-item.selected {
  border-color: var(--ed-accent);
  background: #3a3d45;
}

.media-bin-panel .media-grid-item:active { cursor: grabbing; }

.media-bin-panel .media-grid-item:hover .media-bin-quick-add,
.media-bin-quick-add:focus { opacity: 1 !important; }
.media-bin-quick-add:hover { transform: scale(1.1); box-shadow: 0 2px 8px rgba(0, 255, 200, 0.4); }

/* ================================================
   d-flex helper (used in JSX)
   ================================================ */
.d-flex {
  display: flex;
  flex-direction: column;
  flex: 1 1 45%;
  min-height: 200px;
  overflow: hidden;
}

/* ================================================
   TIMELINE SECTION — fills bottom, resizable
   ================================================ */
.editor-timeline-section {
  background: var(--ed-timeline-bg);
  border-top: 2px solid var(--ed-border);
  display: flex;
  flex-direction: column;
  flex: 1;
  min-height: 200px;
  overflow: hidden;
  position: relative;
}

/* Resize grip at top of timeline */
.editor-timeline-section::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: var(--ed-resize-handle);
  cursor: row-resize;
  z-index: 10;
  background: transparent;
  transition: background 0.15s;
}

.editor-timeline-section:hover::before {
  background: rgba(0, 255, 200, 0.25);
}

/* Timeline Controls Bar */
.timeline-controls-bar {
  height: 32px;
  background: var(--ed-timeline-header);
  border-bottom: 1px solid var(--ed-border);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 10px;
  flex-shrink: 0;
  gap: 6px;
  flex-wrap: wrap;
}

.timeline-zoom-controls {
  display: flex;
  align-items: center;
  gap: 4px;
}

.zoom-btn {
  width: 24px;
  height: 24px;
  border: none;
  border-radius: 3px;
  background: var(--ed-bg-surface);
  color: #888;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: var(--ed-fast);
}

.zoom-btn:hover { background: #4a4a4e; color: #fff; }

.zoom-slider-container { width: 100px; }

.zoom-slider-pro {
  width: 100%;
  height: 3px;
  background: #1a1a1a;
  border-radius: 2px;
  outline: none;
  cursor: pointer;
  appearance: none;
}

.zoom-slider-pro::-webkit-slider-thumb {
  appearance: none;
  width: 12px;
  height: 12px;
  background: var(--ed-blue);
  border-radius: 50%;
  cursor: pointer;
}

.zoom-display-pro {
  font-size: 10px;
  color: var(--ed-text-dim);
  font-family: 'Consolas', monospace;
  min-width: 36px;
}

/* Snap Controls */
.snap-controls {
  display: flex;
  align-items: center;
  gap: 6px;
}

.snap-toggle {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 4px 8px;
  background: var(--ed-bg-dark);
  border: 1px solid var(--ed-border-light);
  border-radius: 3px;
  color: #888;
  font-size: 10px;
  cursor: pointer;
  transition: var(--ed-fast);
}

.snap-toggle:hover { background: var(--ed-bg-hover); }

.snap-toggle.active {
  background: var(--ed-accent-dim);
  border-color: var(--ed-accent);
  color: var(--ed-accent);
}

.snap-grid-select {
  padding: 4px 6px;
  background: var(--ed-bg-dark);
  border: 1px solid var(--ed-border-light);
  border-radius: 3px;
  color: #fff;
  font-size: 10px;
  cursor: pointer;
}

/* Timeline Options */
.timeline-options { display: flex; gap: 0; }

.timeline-option-btn {
  padding: 4px 8px;
  background: var(--ed-bg-dark);
  border: 1px solid var(--ed-border-light);
  color: var(--ed-text-dim);
  font-size: 10px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 3px;
  transition: var(--ed-fast);
}

.timeline-option-btn:first-child { border-radius: 3px 0 0 3px; }
.timeline-option-btn:not(:first-child):not(:last-child) { border-left: none; }
.timeline-option-btn:last-child { border-radius: 0 3px 3px 0; border-left: none; }
.timeline-option-btn.active { background: var(--ed-blue); border-color: var(--ed-blue); color: #fff; }
.timeline-option-btn:hover:not(.active) { background: var(--ed-bg-hover); }

/* Timeline View Buttons */
.timeline-view-btn {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 4px 8px;
  background: var(--ed-bg-dark);
  border: 1px solid var(--ed-border-light);
  border-radius: 3px;
  color: #888;
  font-size: 10px;
  cursor: pointer;
  transition: var(--ed-fast);
}

.timeline-view-btn:hover { background: var(--ed-bg-hover); color: #fff; }

.timeline-view-btn.active {
  background: rgba(74, 158, 255, 0.2);
  border-color: var(--ed-blue);
  color: var(--ed-blue);
}

/* ================================================
   TIMELINE RULER + TRACKS
   ================================================ */
.timeline-main-container {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  position: relative;
}

.timeline-ruler-container {
  height: 28px;
  display: flex;
  background: var(--ed-timeline-ruler);
  border-bottom: 1px solid var(--ed-border);
  flex-shrink: 0;
}

.track-headers-spacer {
  width: 220px;
  min-width: 220px;
  background: var(--ed-timeline-header);
  border-right: 1px solid var(--ed-border);
}

.timeline-ruler-scroll {
  flex: 1;
  overflow-x: auto;
  overflow-y: hidden;
}

.timeline-ruler {
  height: 100%;
  position: relative;
  min-width: 100%;
}

.time-marker-ruler {
  position: absolute;
  top: 0;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.time-marker-line {
  width: 1px;
  height: 10px;
  background: #444;
}

.time-marker-text {
  font-size: 9px;
  color: #777;
  font-family: 'Consolas', monospace;
  margin-top: 4px;
}

/* Playhead */
.timeline-playhead {
  position: absolute;
  top: 0;
  bottom: 0;
  width: 2px;
  background: var(--ed-playhead);
  box-shadow: 0 0 8px rgba(255, 215, 0, 0.4);
  z-index: 100;
  pointer-events: none;
}

.timeline-playhead::before {
  content: '';
  position: absolute;
  top: -6px;
  left: -5px;
  width: 12px;
  height: 12px;
  background: var(--ed-playhead);
  clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
}

/* Track Layout */
.timeline-tracks-container {
  flex: 1;
  display: flex;
  overflow: hidden;
}

.track-headers-column {
  width: 220px;
  min-width: 220px;
  background: var(--ed-timeline-header);
  border-right: 1px solid var(--ed-border);
  overflow-y: auto;
}

.timeline-tracks-scroll {
  flex: 1;
  overflow: auto;
}

.timeline-tracks-content {
  min-width: 100%;
  cursor: crosshair;
  position: relative;
  min-height: 100%;
}

/* Track Headers */
.track-header-container {
  height: 48px;
  border-bottom: 1px solid #2a2a2a;
  display: flex;
  align-items: center;
  padding: 0 8px;
  background: var(--ed-timeline-header) !important;
  color: var(--ed-text);
}

.track-controls-left {
  display: flex;
  align-items: center;
  gap: 6px;
  width: 100%;
  background: transparent;
}

.track-label-container {
  display: flex;
  align-items: center;
  gap: 6px;
  flex: 1;
  background: transparent;
}

.track-type-icon-container {
  display: flex;
  align-items: center;
  gap: 4px;
  background: transparent;
}

.track-type-icon {
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--ed-bg-surface);
  border-radius: 3px;
  color: var(--ed-accent);
}

.track-info {
  display: flex;
  flex-direction: column;
  gap: 1px;
  background: transparent;
}

.track-name-label {
  font-size: 11px;
  font-weight: 600;
  color: var(--ed-text-bright);
}

.track-z-index {
  font-size: 8px;
  color: #666;
  text-transform: uppercase;
}

.track-lock-btn {
  width: 18px;
  height: 18px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  border: none;
  border-radius: 2px;
  color: #555;
  cursor: pointer;
  transition: var(--ed-fast);
}

.track-lock-btn:hover { background: var(--ed-bg-surface); color: #888; }
.track-lock-btn.locked { color: var(--ed-red); }

.track-control-buttons {
  display: flex;
  align-items: center;
  gap: 2px;
  margin-left: auto;
  background: transparent;
}

.track-layer-btn {
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--ed-bg-surface);
  border: none;
  border-radius: 2px;
  color: #777;
  cursor: pointer;
  transition: var(--ed-fast);
}

.track-layer-btn:hover { background: var(--ed-bg-active); color: var(--ed-accent); }

.track-toggle-btn {
  width: 22px;
  height: 22px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--ed-bg-surface);
  border: none;
  border-radius: 3px;
  color: #555;
  cursor: pointer;
  transition: var(--ed-fast);
}

.track-toggle-btn:hover { background: var(--ed-bg-active); color: #aaa; }
.track-toggle-btn.active { background: var(--ed-accent-dim); color: var(--ed-accent); }

/* Track Rows */
.timeline-track-row {
  height: 48px;
  border-bottom: 1px solid #2a2a2a;
  position: relative;
  background: var(--ed-timeline-bg);
}

.track-timeline-area {
  height: 100%;
  position: relative;
  cursor: crosshair;
  transition: background 0.1s;
}

.track-timeline-area.drag-over,
.track-timeline-area:hover {
  background: rgba(0, 255, 200, 0.03);
}

.empty-track-message {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  color: #444;
  font-size: 10px;
  font-style: italic;
  border: 1px dashed #333;
  border-radius: 3px;
  margin: 3px;
  background: transparent;
}

.track-timeline-area:hover .empty-track-message,
.track-timeline-area.drag-over .empty-track-message {
  border-color: var(--ed-accent);
  color: #666;
  background: rgba(0, 255, 200, 0.03);
}

/* Timeline Clips */
.timeline-clip {
  position: absolute;
  top: 4px;
  height: 40px;
  border-radius: 3px;
  cursor: pointer;
  border: 1px solid rgba(255,255,255,0.08);
  overflow: hidden;
  transition: var(--ed-fast);
  box-shadow: 0 1px 3px rgba(0,0,0,0.3);
}

.timeline-clip:hover {
  filter: brightness(1.12);
  box-shadow: 0 2px 6px rgba(0,0,0,0.4);
}

.timeline-clip.selected {
  border-color: #fff;
  box-shadow: 0 0 0 1px var(--ed-blue), 0 2px 8px rgba(0,0,0,0.4);
  animation: clipSelect 0.3s ease;
}

.timeline-clip.drop-target {
  filter: brightness(1.2) !important;
  border: 2px dashed var(--ed-green) !important;
}

.timeline-clip[style*="outline"] {
  filter: brightness(1.3) !important;
}

.timeline-clip.locked { opacity: 0.5; cursor: not-allowed !important; }
.timeline-clip.locked:hover { filter: none; }

.clip-content-timeline {
  height: 100%;
  padding: 4px 8px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  background: rgba(0,0,0,0.25);
  position: relative;
}

.clip-title-timeline {
  font-size: 10px;
  font-weight: 500;
  color: #fff;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  text-shadow: 0 1px 2px rgba(0,0,0,0.7);
}

.clip-compositing-info {
  display: flex;
  align-items: center;
  gap: 3px;
  margin-top: 2px;
}

.blend-mode-indicator {
  background: var(--ed-purple);
  color: #fff;
  border-radius: 4px;
  padding: 0px 3px;
  font-size: 7px;
  font-weight: 600;
  text-transform: uppercase;
}

.clip-effects-indicator {
  background: var(--ed-orange);
  color: #fff;
  border-radius: 6px;
  padding: 0px 3px;
  font-size: 8px;
  display: flex;
  align-items: center;
  gap: 2px;
  animation: effectApplied 0.4s ease;
}

.audio-waveform { align-self: flex-end; color: rgba(255,255,255,0.5); }

/* Keyframe Indicators */
.keyframe-indicators {
  position: absolute;
  bottom: 2px;
  left: 4px;
  right: 4px;
  height: 6px;
  display: flex;
  align-items: center;
}

.keyframe-diamond {
  position: absolute;
  width: 5px;
  height: 5px;
  background: var(--ed-yellow);
  transform: rotate(45deg);
  border: 1px solid rgba(0,0,0,0.5);
}

/* Timeline Transitions */
.timeline-transition {
  position: absolute;
  top: 6px;
  height: 36px;
  background: linear-gradient(135deg, var(--ed-purple), rgba(177,128,215,0.7));
  border: 1px solid var(--ed-purple);
  border-radius: 4px;
  cursor: pointer;
  overflow: hidden;
  transition: var(--ed-fast);
  z-index: 10;
}

.timeline-transition:hover { filter: brightness(1.15); }

.timeline-transition.selected {
  border-color: #fff;
  box-shadow: 0 0 0 1px var(--ed-blue);
  z-index: 20;
}

.transition-content {
  height: 100%;
  padding: 3px 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 3px;
  background: rgba(0,0,0,0.2);
  color: #fff;
}

.transition-label {
  font-size: 9px;
  font-weight: 600;
  text-shadow: 0 1px 2px rgba(0,0,0,0.7);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 70px;
}

/* ================================================
   TIMELINE MARKERS
   ================================================ */
.timeline-marker {
  position: absolute;
  top: 0;
  width: 2px;
  height: 100%;
  cursor: pointer;
  z-index: 10;
  transition: var(--ed-fast);
}

.timeline-marker:hover {
  transform: scaleX(1.5);
  filter: brightness(1.2);
}

.timeline-marker:hover::after {
  content: attr(title);
  position: absolute;
  top: 100%;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(0, 0, 0, 0.9);
  color: #fff;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 10px;
  white-space: nowrap;
  z-index: 100;
  margin-top: 4px;
}

/* Marker Flag */
.timeline-marker > div {
  position: absolute;
  top: -20px;
  left: -8px;
  width: 16px;
  height: 16px;
  border-radius: 2px 2px 8px 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 10px;
  cursor: pointer;
  transition: transform 0.15s ease;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

.timeline-marker:hover > div { transform: scale(1.2); }

/* Marker visibility in tracks vs ruler */
.timeline-tracks-content .timeline-marker {
  z-index: 50;
  pointer-events: none;
}

.timeline-ruler .timeline-marker {
  pointer-events: auto;
}

.timeline-marker.selected {
  z-index: 60;
}

.timeline-marker.selected > div {
  box-shadow: 0 0 0 2px #fff, 0 2px 8px rgba(0, 0, 0, 0.5);
}

/* ================================================
   EFFECTS ORGANIZATION — Left Panel
   ================================================ */
.effects-organized,
.transitions-organized {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.effect-category,
.transition-category {
  background: var(--ed-bg-darkest);
  border-radius: 3px;
  overflow: hidden;
}

.category-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 6px 8px;
  background: var(--ed-bg-hover);
  cursor: pointer;
  font-size: 10px;
  font-weight: 600;
  color: var(--ed-text-bright);
  text-transform: uppercase;
  letter-spacing: 0.4px;
}

.category-toggle {
  background: none;
  border: none;
  color: var(--ed-text-dim);
  cursor: pointer;
  display: flex;
  align-items: center;
}

.effect-list-category,
.transition-list-category {
  padding: 4px;
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.effect-item {
  padding: 5px 8px;
  background: var(--ed-bg-dark);
  border: 1px solid transparent;
  border-radius: 3px;
  cursor: grab;
  display: flex;
  align-items: center;
  gap: 6px;
  transition: var(--ed-fast);
  font-size: 11px;
  position: relative;
}

.effect-item:hover { background: var(--ed-bg-hover); border-color: var(--ed-blue); }
.effect-item:active { cursor: grabbing; }

.effect-item.clickable { cursor: pointer; border-color: rgba(0,255,200,0.2); }
.effect-item.clickable:hover { background: var(--ed-accent-dim); border-color: var(--ed-accent); }
.effect-item.clickable:active { transform: scale(0.98); }

.effect-item .apply-hint { opacity: 0; transition: opacity 0.15s; }
.effect-item:hover .apply-hint { opacity: 1; }

.effect-item .drag-hint { position: absolute; right: 6px; opacity: 0.3; font-size: 9px; }
.effect-item:hover .drag-hint { opacity: 0.6; }

.effect-controls {
  display: flex;
  gap: 2px;
  margin-left: auto;
  opacity: 0;
  transition: opacity 0.15s;
}

.effect-item:hover .effect-controls { opacity: 1; }

.preview-btn,
.quick-apply-btn {
  width: 18px;
  height: 18px;
  border: none;
  border-radius: 2px;
  background: var(--ed-blue);
  color: #fff;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: var(--ed-fast);
}

.preview-btn:hover { background: var(--ed-green); }
.quick-apply-btn:hover { background: var(--ed-purple); }
.preview-btn:disabled, .quick-apply-btn:disabled { opacity: 0.4; cursor: not-allowed; }

.suggest-btn {
  background: linear-gradient(135deg, var(--ed-purple), var(--ed-blue));
}

.loading-effect {
  opacity: 0.6;
  position: relative;
}

.loading-effect::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
  animation: shimmer 1.5s infinite;
}

/* Transition Items */
.transition-item {
  padding: 4px 6px;
  background: var(--ed-bg-dark);
  border: 1px solid transparent;
  border-radius: 3px;
  cursor: grab;
  display: flex;
  align-items: center;
  gap: 6px;
  transition: var(--ed-fast);
  font-size: 10px;
}

.transition-item:hover { background: var(--ed-bg-hover); border-color: var(--ed-purple); }

.transition-icon {
  color: var(--ed-purple);
  background: rgba(177,128,215,0.12);
  border-radius: 2px;
  padding: 3px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.transition-info { flex: 1; }
.transition-name { font-weight: 500; color: var(--ed-text); line-height: 1.2; }
.transition-duration { font-size: 8px; color: var(--ed-text-muted); margin-top: 1px; }

/* ================================================
   MEDIA LIBRARY LIST
   ================================================ */
.media-list {
  display: flex;
  flex-direction: column;
  gap: 2px;
  max-height: 350px;
  overflow-y: auto;
  padding: 2px 0;
}

.media-item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 8px;
  background: #282828;
  border: 1px solid transparent;
  border-radius: 4px;
  cursor: grab;
  transition: var(--ed-fast);
  position: relative;
  user-select: none;
}

.media-item:hover { background: #333; border-color: var(--ed-accent); }
.media-item:active { cursor: grabbing; }
.media-item[draggable="true"] { cursor: grab; }
.media-item[draggable="true"]:active { cursor: grabbing; opacity: 0.8; }
.media-item.uploading { opacity: 0.5; pointer-events: none; animation: shimmer 1.5s infinite; background-size: 200% 100%; }
.media-item.failed { border-color: var(--ed-red); background: rgba(255,71,87,0.08); }
.media-item.selected { background: #3a3d45; border-color: var(--ed-accent); box-shadow: 0 0 0 1px rgba(0, 255, 200, 0.2); }
.media-item.dragging { opacity: 0.5; transform: scale(0.98); }

.quick-add-btn {
  width: 20px;
  height: 20px;
  border: none;
  border-radius: 3px;
  background: var(--ed-accent);
  color: #000;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  margin-left: auto;
  opacity: 0;
  transition: var(--ed-fast);
}

.media-item:hover .quick-add-btn { opacity: 1; }
.quick-add-btn:hover { background: #00e6b4; transform: scale(1.1); }

/* ================================================
   SOURCE MONITOR PANEL (modal overlay)
   ================================================ */
.source-monitor-panel {
  position: fixed;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 500px;
  max-width: 90vw;
  max-height: 80vh;
  background: var(--ed-bg-dark);
  border: 1px solid #444;
  border-radius: 8px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.6);
  z-index: 1000;
  overflow: hidden;
  animation: modalIn 0.2s ease;
}

@keyframes modalIn {
  from { opacity: 0; transform: translate(-50%, -50%) scale(0.96); }
  to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
}

/* Source Monitor Header */
.source-monitor-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 16px;
  background: #252525;
  border-bottom: 1px solid #404040;
}

.source-monitor-header h4 {
  margin: 0;
  font-size: 13px;
  font-weight: 600;
  color: #fff;
  display: flex;
  align-items: center;
  gap: 8px;
}

.source-monitor-header button {
  width: 28px;
  height: 28px;
  border: none;
  border-radius: 4px;
  background: #333;
  color: #888;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: var(--ed-fast);
}

.source-monitor-header button:hover {
  background: var(--ed-red);
  color: #fff;
}

/* Source Preview */
.source-preview {
  padding: 0;
  background: #000;
  min-height: 280px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.source-preview video,
.source-preview img {
  max-width: 100%;
  max-height: 300px;
  object-fit: contain;
}

/* Trim Controls */
.trim-controls {
  padding: 14px;
  background: #252525;
  border-top: 1px solid #404040;
}

.trim-points {
  display: flex;
  gap: 14px;
  margin-bottom: 12px;
}

.trim-points label {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 11px;
  font-weight: 500;
  color: #a0a0a0;
}

.trim-points input {
  width: 65px;
  padding: 6px 8px;
  background: var(--ed-bg-darkest);
  border: 1px solid #404040;
  border-radius: 3px;
  color: #fff;
  font-size: 11px;
  font-family: 'JetBrains Mono', monospace;
}

.trim-points input:focus {
  outline: none;
  border-color: var(--ed-accent);
}

/* Add to Timeline Button - Source Monitor */
.add-to-timeline-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  width: 100%;
  padding: 12px 16px;
  background: linear-gradient(135deg, var(--ed-accent), #00b894);
  border: none;
  border-radius: 6px;
  color: #000;
  font-size: 13px;
  font-weight: 700;
  cursor: pointer;
  transition: var(--ed-smooth);
  box-shadow: 0 4px 12px rgba(0, 255, 200, 0.3);
}

.add-to-timeline-btn:hover {
  background: linear-gradient(135deg, #00e6b4, #00a383);
  transform: translateY(-1px);
  box-shadow: 0 6px 16px rgba(0, 255, 200, 0.4);
}

/* Audio Preview */
.audio-preview {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
  padding: 16px;
  color: var(--ed-text-dim);
}

.audio-preview p { margin: 0; font-size: 13px; color: var(--ed-text); }
.audio-preview audio { width: 100%; max-width: 280px; }

/* ================================================
   MEDIA BROWSER MODAL
   ================================================ */
.media-browser-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.7);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 500;
  backdrop-filter: blur(4px);
}

.media-browser-modal {
  width: 650px;
  max-width: 90vw;
  max-height: 80vh;
  background: var(--ed-bg-panel);
  border: 1px solid var(--ed-border-light);
  border-radius: 10px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.5);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  animation: modalIn 0.2s ease;
}

.media-browser-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 14px 18px;
  background: var(--ed-bg-darkest);
  border-bottom: 1px solid var(--ed-border);
}

.media-browser-header h3 { margin: 0; font-size: 15px; color: var(--ed-text-bright); }

.browser-controls { display: flex; gap: 6px; }

.browser-controls button {
  width: 28px;
  height: 28px;
  border: none;
  border-radius: 4px;
  background: var(--ed-bg-hover);
  color: var(--ed-text-dim);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
}

.browser-controls button:hover { background: var(--ed-bg-selected); color: #fff; }

.media-browser-toolbar { padding: 10px 18px; border-bottom: 1px solid var(--ed-border); }

.import-files-btn {
  padding: 8px 14px;
  background: var(--ed-blue);
  color: #fff;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-weight: 500;
  display: inline-flex;
  align-items: center;
  gap: 6px;
}

.import-files-btn:hover { background: var(--ed-purple); }

.media-browser-content {
  flex: 1;
  padding: 14px;
  overflow-y: auto;
}

.media-browser-content.grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
  gap: 10px;
}

.media-browser-content.list { display: flex; flex-direction: column; gap: 4px; }

.media-browser-item {
  background: var(--ed-bg-dark);
  border: 1px solid var(--ed-border-light);
  border-radius: 4px;
  cursor: pointer;
  transition: var(--ed-fast);
  overflow: hidden;
}

.media-browser-item:hover { border-color: var(--ed-blue); transform: translateY(-1px); }
.media-browser-item.uploading { opacity: 0.6; pointer-events: none; }
.media-browser-item.failed { border-color: var(--ed-red); }

.media-browser-content.grid .media-browser-item { display: flex; flex-direction: column; }
.media-browser-content.grid .media-thumbnail { height: 80px; background: #111; display: flex; align-items: center; justify-content: center; color: var(--ed-text-dim); }
.media-browser-content.grid .media-info { padding: 8px; }
.media-browser-content.list .media-browser-item { display: flex; align-items: center; padding: 10px; gap: 10px; }
.media-browser-content.list .media-thumbnail { width: 40px; height: 40px; background: #111; border-radius: 3px; display: flex; align-items: center; justify-content: center; }

.media-name { font-size: 11px; font-weight: 500; color: var(--ed-text-bright); overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.media-meta { font-size: 9px; color: var(--ed-text-muted); margin-top: 2px; }

/* ================================================
   EXPORT MODAL
   ================================================ */
.export-modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.8);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  backdrop-filter: blur(4px);
}

.export-modal {
  width: 460px;
  max-width: 90vw;
  background: var(--ed-bg-panel);
  border: 1px solid var(--ed-border-light);
  border-radius: 10px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.5);
  overflow: hidden;
  animation: modalSlide 0.25s ease;
}

@keyframes modalSlide {
  from { opacity: 0; transform: scale(0.96) translateY(-16px); }
  to { opacity: 1; transform: scale(1) translateY(0); }
}

.export-modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 20px;
  background: var(--ed-bg-darkest);
  border-bottom: 1px solid var(--ed-border);
}

.export-modal-header h3 { margin: 0; font-size: 16px; font-weight: 600; color: var(--ed-text-bright); }

.export-modal-header .close-btn {
  width: 28px;
  height: 28px;
  border: none;
  border-radius: 4px;
  background: var(--ed-bg-hover);
  color: var(--ed-text-dim);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
}

.export-modal-header .close-btn:hover { background: var(--ed-red); color: #fff; }
.export-modal-content { padding: 20px; }

.export-setting { margin-bottom: 16px; }
.export-setting label { display: block; font-size: 12px; font-weight: 500; color: var(--ed-text-bright); margin-bottom: 6px; }

.export-setting select {
  width: 100%;
  padding: 10px 12px;
  background: var(--ed-bg-dark);
  border: 1px solid var(--ed-border-light);
  border-radius: 4px;
  color: var(--ed-text);
  font-size: 13px;
  cursor: pointer;
}

.export-setting select:hover { border-color: var(--ed-blue); }
.export-setting select:focus { outline: none; border-color: var(--ed-blue); box-shadow: 0 0 0 2px rgba(74,158,255,0.2); }

.export-error {
  padding: 10px 14px;
  background: rgba(255,107,107,0.12);
  border: 1px solid var(--ed-red);
  border-radius: 4px;
  margin-bottom: 16px;
  color: var(--ed-red);
  font-size: 12px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.export-progress { margin-bottom: 16px; }

.progress-bar {
  width: 100%;
  height: 6px;
  background: var(--ed-bg-dark);
  border-radius: 3px;
  overflow: hidden;
  margin-bottom: 6px;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--ed-blue), var(--ed-green));
  border-radius: 3px;
  transition: width 0.3s;
}

.export-progress span { font-size: 11px; color: var(--ed-text-dim); }

.export-actions { display: flex; gap: 10px; justify-content: flex-end; margin-top: 20px; }

.cancel-btn {
  padding: 10px 20px;
  background: var(--ed-bg-dark);
  border: 1px solid var(--ed-border-light);
  border-radius: 4px;
  color: var(--ed-text);
  font-size: 13px;
  cursor: pointer;
}

.cancel-btn:hover:not(:disabled) { background: var(--ed-bg-hover); }
.cancel-btn:disabled { opacity: 0.4; cursor: not-allowed; }

.export-btn {
  padding: 10px 20px;
  background: var(--ed-green);
  border: none;
  border-radius: 4px;
  color: #fff;
  font-size: 13px;
  font-weight: 600;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 6px;
}

.export-btn:hover:not(:disabled) { background: #00b894; transform: translateY(-1px); }
.export-btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }

.export-complete { text-align: center; padding: 16px 0; }
.success-icon { font-size: 40px; margin-bottom: 12px; }
.export-complete h4 { margin: 0 0 6px; font-size: 18px; color: var(--ed-text-bright); }
.export-complete p { margin: 0 0 20px; color: var(--ed-text-dim); font-size: 13px; }
.export-complete .export-actions { justify-content: center; }

.download-btn {
  padding: 12px 24px;
  background: var(--ed-green);
  border: none;
  border-radius: 4px;
  color: #fff;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 6px;
}

.download-btn:hover { background: #00b894; transform: translateY(-1px); box-shadow: 0 4px 12px rgba(0, 212, 170, 0.3); }

.export-complete .preview-btn {
  padding: 12px 20px;
  background: var(--ed-bg-dark);
  border: 1px solid var(--ed-border-light);
  border-radius: 4px;
  color: var(--ed-text);
  font-size: 13px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 6px;
}

.export-complete .preview-btn:hover { background: var(--ed-bg-hover); border-color: var(--ed-blue); }

.export-url {
  display: flex;
  gap: 6px;
  margin-top: 16px;
  padding: 10px;
  background: var(--ed-bg-dark);
  border-radius: 4px;
}

.export-url input {
  flex: 1;
  padding: 8px 10px;
  background: var(--ed-bg-darkest);
  border: 1px solid var(--ed-border-light);
  border-radius: 3px;
  color: var(--ed-text-dim);
  font-size: 11px;
  font-family: 'Consolas', monospace;
}

.export-url button {
  padding: 8px 12px;
  background: var(--ed-blue);
  border: none;
  border-radius: 3px;
  color: #fff;
  cursor: pointer;
  display: flex;
  align-items: center;
}

.export-url button:hover { background: var(--ed-purple); }

/* ================================================
   EFFECTS PANEL (floating right)
   ================================================ */
.effects-panel-enhanced {
  position: fixed;
  right: 0;
  top: 64px;
  width: 340px;
  background: var(--ed-bg-panel);
  border-left: 1px solid var(--ed-border);
  z-index: 200;
  box-shadow: -4px 0 20px rgba(0,0,0,0.3);
  height: calc(100vh - 64px);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  animation: panelSlide 0.2s ease;
}

@keyframes panelSlide {
  from { opacity: 0; transform: translateX(16px); }
  to { opacity: 1; transform: translateX(0); }
}

.effects-panel-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 14px;
  border-bottom: 1px solid var(--ed-border);
  background: var(--ed-bg-darkest);
  flex-shrink: 0;
}

.effects-panel-header h4 { margin: 0; color: var(--ed-text-bright); font-size: 12px; font-weight: 600; }

.close-panel-btn {
  background: none;
  border: none;
  color: var(--ed-text-dim);
  cursor: pointer;
  padding: 3px;
  border-radius: 3px;
  display: flex;
  align-items: center;
}

.close-panel-btn:hover { background: var(--ed-bg-hover); color: var(--ed-text); }

.effects-panel-content-enhanced {
  flex: 1;
  overflow-y: auto;
  padding: 14px;
}

/* Effects Stack */
.effects-stack { margin-bottom: 18px; }

.stack-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}

.stack-header h5 { margin: 0; color: var(--ed-text-bright); font-size: 11px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.4px; }

.stack-controls { display: flex; gap: 3px; }

.stack-btn {
  width: 24px;
  height: 24px;
  border: none;
  border-radius: 3px;
  background: var(--ed-bg-dark);
  color: var(--ed-text-dim);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
}

.stack-btn:hover { background: var(--ed-bg-hover); color: var(--ed-text); }

.applied-effects-list { display: flex; flex-direction: column; gap: 8px; }

.applied-effect-item-enhanced {
  background: var(--ed-bg-dark);
  border: 1px solid var(--ed-border-light);
  border-radius: 4px;
  overflow: hidden;
}

.applied-effect-item-enhanced:hover { border-color: var(--ed-blue); }

.effect-item-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 12px;
  background: var(--ed-bg-hover);
}

.effect-info-left { display: flex; align-items: center; gap: 8px; flex: 1; }

.effect-toggle {
  width: 24px;
  height: 24px;
  border: none;
  border-radius: 3px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
}

.effect-toggle.enabled { background: var(--ed-blue); color: #fff; }
.effect-toggle.disabled { background: var(--ed-bg-dark); color: var(--ed-text-muted); }
.effect-toggle:hover { opacity: 0.8; }

.effect-details { flex: 1; }
.effect-name { font-size: 12px; font-weight: 500; color: var(--ed-text-bright); display: block; line-height: 1.2; }

.effects-panel-enhanced .effect-category {
  font-size: 9px;
  color: var(--ed-text-muted);
  text-transform: uppercase;
  letter-spacing: 0.3px;
  margin-top: 1px;
  background: transparent;
  border-radius: 0;
  overflow: visible;
}

.effect-controls-right { display: flex; align-items: center; gap: 8px; }

.effect-value {
  background: var(--ed-blue);
  color: #fff;
  padding: 2px 6px;
  border-radius: 8px;
  font-weight: 500;
  font-size: 10px;
  min-width: 36px;
  text-align: center;
}

.effect-remove {
  width: 24px;
  height: 24px;
  border: none;
  border-radius: 3px;
  background: var(--ed-red);
  color: #fff;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
}

.effect-remove:hover { background: #d63447; }

.effect-parameters {
  padding: 12px;
  background: var(--ed-bg-darkest);
}

.parameter-row { margin-bottom: 12px; }
.parameter-row:last-child { margin-bottom: 0; }
.parameter-row label { display: block; font-size: 11px; font-weight: 500; margin-bottom: 6px; color: var(--ed-text); }

.effect-slider-enhanced {
  width: 100%;
  height: 4px;
  background: #1a1a1a;
  border-radius: 2px;
  outline: none;
  cursor: pointer;
  appearance: none;
}

.effect-slider-enhanced::-webkit-slider-thumb {
  appearance: none;
  width: 14px;
  height: 14px;
  background: var(--ed-blue);
  border-radius: 50%;
  cursor: pointer;
}

.effect-slider-enhanced:disabled { opacity: 0.4; cursor: not-allowed; }

.effect-select {
  width: 100%;
  padding: 6px 10px;
  background: var(--ed-bg-dark);
  border: 1px solid var(--ed-border-light);
  border-radius: 3px;
  color: var(--ed-text);
  font-size: 11px;
}

.color-picker {
  width: 100%;
  height: 30px;
  border: 1px solid var(--ed-border-light);
  border-radius: 3px;
  cursor: pointer;
}

.no-effects-message {
  text-align: center;
  padding: 30px 16px;
  color: var(--ed-text-dim);
}

.no-effects-message p { margin: 10px 0 4px; font-size: 13px; color: var(--ed-text); }
.no-effects-message span { font-size: 11px; }

/* Quick Apply */
.quick-apply-section { margin-bottom: 18px; }
.quick-apply-section h5 { margin: 0 0 10px; color: var(--ed-text-bright); font-size: 11px; font-weight: 600; text-transform: uppercase; }

.quick-effects-grid-enhanced {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 6px;
}

.quick-effect-btn-enhanced {
  padding: 8px 6px;
  background: var(--ed-bg-dark);
  border: 1px solid var(--ed-border-light);
  border-radius: 4px;
  color: var(--ed-text);
  cursor: pointer;
  font-size: 10px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
}

.quick-effect-btn-enhanced:hover { background: var(--ed-bg-hover); border-color: var(--ed-blue); }
.quick-effect-btn-enhanced span { text-align: center; line-height: 1.2; }

/* Presets */
.presets-section h5 { margin: 0 0 10px; color: var(--ed-text-bright); font-size: 11px; font-weight: 600; text-transform: uppercase; }
.preset-list { display: flex; flex-direction: column; gap: 4px; }

.preset-btn {
  padding: 8px 12px;
  background: var(--ed-bg-dark);
  border: 1px solid var(--ed-border-light);
  border-radius: 4px;
  color: var(--ed-text);
  cursor: pointer;
  font-size: 11px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.preset-btn:hover { background: var(--ed-bg-hover); border-color: var(--ed-green); }

/* No Selection */
.no-selection-message-enhanced { text-align: center; padding: 30px 16px; }
.no-selection-icon { margin-bottom: 16px; color: var(--ed-text-muted); }
.no-selection-message-enhanced h3 { margin: 0 0 8px; color: var(--ed-text-bright); font-size: 14px; }
.no-selection-message-enhanced p { margin: 0 0 16px; color: var(--ed-text-dim); font-size: 12px; }

.selection-help { display: flex; flex-direction: column; gap: 8px; text-align: left; }

.help-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px 10px;
  background: var(--ed-bg-dark);
  border-radius: 3px;
  font-size: 11px;
  color: var(--ed-text-dim);
}

/* ================================================
   COMPOSITING PANEL
   ================================================ */
.compositing-panel-enhanced {
  position: fixed;
  right: 0;
  top: 64px;
  width: 320px;
  background: var(--ed-bg-panel);
  border-left: 1px solid var(--ed-border);
  z-index: 200;
  box-shadow: -4px 0 20px rgba(0,0,0,0.3);
  height: calc(100vh - 64px);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  animation: panelSlide 0.2s ease;
}

.compositing-panel-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 14px;
  border-bottom: 1px solid var(--ed-border);
  background: var(--ed-bg-darkest);
  flex-shrink: 0;
}

.compositing-panel-header h4 { margin: 0; color: var(--ed-text-bright); font-size: 12px; font-weight: 600; }

.compositing-panel-content-enhanced { flex: 1; overflow-y: auto; padding: 14px; }
.compositing-section { margin-bottom: 18px; }
.compositing-section h5 { margin: 0 0 10px; color: var(--ed-text-bright); font-size: 11px; font-weight: 600; text-transform: uppercase; }

.transform-grid { display: flex; flex-direction: column; gap: 10px; }

.transform-group {
  background: var(--ed-bg-dark);
  border: 1px solid var(--ed-border-light);
  border-radius: 4px;
  padding: 12px;
  position: relative;
}

.transform-group label { display: block; font-size: 11px; font-weight: 500; margin-bottom: 8px; color: var(--ed-text-bright); }
.dual-control { display: flex; gap: 8px; }
.control-pair { flex: 1; display: flex; align-items: center; gap: 6px; }
.control-pair span { font-size: 10px; color: var(--ed-text-dim); min-width: 10px; }

.numeric-input {
  flex: 1;
  padding: 6px 8px;
  background: var(--ed-bg-darkest);
  border: 1px solid var(--ed-border-light);
  border-radius: 3px;
  color: var(--ed-text);
  font-size: 11px;
  font-family: 'Consolas', monospace;
}

.numeric-input:focus { outline: none; border-color: var(--ed-blue); }

.lock-aspect-btn {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 20px;
  height: 20px;
  border: none;
  border-radius: 3px;
  background: var(--ed-bg-darkest);
  color: var(--ed-text-dim);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
}

.lock-aspect-btn:hover { background: var(--ed-bg-hover); color: var(--ed-blue); }

.rotation-control { display: flex; align-items: center; gap: 6px; }
.rotation-control input { flex: 1; }
.rotation-control span { font-size: 10px; color: var(--ed-text-dim); }

.blend-controls {
  background: var(--ed-bg-dark);
  border: 1px solid var(--ed-border-light);
  border-radius: 4px;
  padding: 12px;
}

.compositing-slider-enhanced {
  width: 100%;
  height: 4px;
  background: #1a1a1a;
  border-radius: 2px;
  outline: none;
  cursor: pointer;
  appearance: none;
  margin-top: 6px;
}

.compositing-slider-enhanced::-webkit-slider-thumb {
  appearance: none;
  width: 14px;
  height: 14px;
  background: var(--ed-blue);
  border-radius: 50%;
  cursor: pointer;
}

.blend-mode-select-enhanced {
  width: 100%;
  padding: 8px 10px;
  background: var(--ed-bg-darkest);
  border: 1px solid var(--ed-border-light);
  border-radius: 3px;
  color: var(--ed-text);
  font-size: 11px;
  margin-top: 6px;
}

.advanced-controls {
  background: var(--ed-bg-dark);
  border: 1px solid var(--ed-border-light);
  border-radius: 4px;
  padding: 12px;
}

.preset-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 6px; }

.preset-transform-btn {
  padding: 8px 6px;
  background: var(--ed-bg-dark);
  border: 1px solid var(--ed-border-light);
  border-radius: 4px;
  color: var(--ed-text);
  cursor: pointer;
  font-size: 9px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
}

.preset-transform-btn:hover { background: var(--ed-bg-hover); border-color: var(--ed-purple); }

.no-video-clip-message-enhanced, .no-clip-icon { text-align: center; padding: 30px 16px; }
.no-clip-icon { margin-bottom: 16px; color: var(--ed-text-muted); }
.no-video-clip-message-enhanced h3 { margin: 0 0 8px; color: var(--ed-text-bright); font-size: 14px; }
.no-video-clip-message-enhanced p { margin: 0 0 16px; color: var(--ed-text-dim); font-size: 12px; }

.compositing-features { display: flex; flex-direction: column; gap: 8px; text-align: left; }

.feature-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px 10px;
  background: var(--ed-bg-dark);
  border-radius: 3px;
  font-size: 11px;
  color: var(--ed-text-dim);
}

/* ================================================
   COLOR WORKSPACE
   ================================================ */
.color-workspace {
  position: fixed;
  bottom: 0;
  left: 260px;
  right: 0;
  height: 240px;
  background: var(--ed-bg-panel);
  border-top: 2px solid var(--ed-border);
  z-index: 150;
  box-shadow: 0 -4px 20px rgba(0,0,0,0.3);
  display: flex;
  flex-direction: column;
}

.color-workspace-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 14px;
  border-bottom: 1px solid var(--ed-border);
  background: var(--ed-bg-darkest);
  flex-shrink: 0;
}

.color-workspace-header h4 { margin: 0; color: var(--ed-text-bright); font-size: 12px; font-weight: 600; }

.color-tools { flex: 1; padding: 14px; overflow-y: auto; }

.color-wheels { display: flex; gap: 24px; justify-content: center; }

.color-wheel-section { text-align: center; }
.color-wheel-section h5 { margin: 0 0 10px; color: var(--ed-text-bright); font-size: 10px; font-weight: 600; text-transform: uppercase; }

.color-wheel {
  width: 100px;
  height: 100px;
  border-radius: 50%;
  border: 2px solid #444;
  margin-bottom: 10px;
  cursor: crosshair;
}

.shadows-wheel { background: radial-gradient(circle, #444, #222, #000); }
.midtones-wheel { background: radial-gradient(circle, #888, #555, #333); }
.highlights-wheel { background: radial-gradient(circle, #fff, #ccc, #888); }

.wheel-controls input {
  width: 100px;
  height: 3px;
  background: #1a1a1a;
  border-radius: 2px;
  appearance: none;
  cursor: pointer;
}

/* ================================================
   AUDIO WORKSPACE
   ================================================ */
.audio-workspace {
  position: fixed;
  bottom: 0;
  left: 260px;
  right: 0;
  height: 280px;
  background: var(--ed-bg-panel);
  border-top: 2px solid var(--ed-border);
  z-index: 150;
  box-shadow: 0 -4px 20px rgba(0,0,0,0.3);
  display: flex;
  flex-direction: column;
}

.audio-workspace-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 14px;
  border-bottom: 1px solid var(--ed-border);
  background: var(--ed-bg-darkest);
  flex-shrink: 0;
}

.audio-workspace-header h4 { margin: 0; color: var(--ed-text-bright); font-size: 12px; font-weight: 600; }

.mixing-console { flex: 1; padding: 14px; display: flex; gap: 14px; overflow-x: auto; }

.mixer-channel {
  min-width: 70px;
  background: var(--ed-bg-dark);
  border: 1px solid var(--ed-border-light);
  border-radius: 4px;
  overflow: hidden;
}

.channel-header { padding: 8px 6px; background: var(--ed-bg-hover); text-align: center; }
.channel-header span { font-size: 10px; font-weight: 600; color: var(--ed-text-bright); }

.channel-controls {
  padding: 10px 6px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
  height: 180px;
}

.eq-controls { display: flex; flex-direction: column; gap: 8px; width: 100%; }
.eq-band { text-align: center; }
.eq-band label { display: block; font-size: 8px; color: var(--ed-text-dim); margin-bottom: 2px; }

.eq-slider {
  width: 50px;
  height: 3px;
  background: #1a1a1a;
  border-radius: 2px;
  appearance: none;
  cursor: pointer;
}

.eq-slider::-webkit-slider-thumb {
  appearance: none;
  width: 10px;
  height: 10px;
  background: var(--ed-green);
  border-radius: 50%;
  cursor: pointer;
}

.channel-fader { flex: 1; display: flex; flex-direction: column; align-items: center; gap: 6px; }

.volume-fader {
  writing-mode: bt-lr;
  -webkit-appearance: slider-vertical;
  width: 24px;
  height: 80px;
  background: #1a1a1a;
  cursor: pointer;
}

.fader-label { font-size: 8px; color: var(--ed-text-dim); font-family: 'Consolas', monospace; }

.level-meter {
  width: 6px;
  height: 80px;
  background: #1a1a1a;
  border-radius: 3px;
  position: relative;
  overflow: hidden;
}

.meter-bar {
  position: absolute;
  bottom: 0;
  width: 100%;
  height: 60%;
  background: linear-gradient(to top, var(--ed-green), var(--ed-yellow) 70%, var(--ed-red));
  transition: height 0.1s;
}

/* Transition Properties */
.transition-properties {
  background: var(--ed-bg-dark);
  border: 1px solid var(--ed-border-light);
  border-radius: 4px;
  padding: 12px;
}

.transition-properties h5 { margin: 0 0 10px; color: var(--ed-text-bright); font-size: 11px; font-weight: 600; text-transform: uppercase; }

/* ================================================
   ANIMATIONS
   ================================================ */
@keyframes shimmer {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.spin { animation: spin 1s linear infinite; }

@keyframes clipSelect {
  0% { transform: scale(1); }
  50% { transform: scale(1.02); }
  100% { transform: scale(1); }
}

@keyframes effectApplied {
  0% { transform: scale(1); opacity: 1; }
  50% { transform: scale(1.1); opacity: 0.8; }
  100% { transform: scale(1); opacity: 1; }
}

@keyframes dragPulse {
  0%, 100% {
    border-color: var(--ed-accent);
    box-shadow: 0 0 0 0 rgba(0, 255, 200, 0.4);
  }
  50% {
    border-color: var(--ed-accent);
    box-shadow: 0 0 0 4px rgba(0, 255, 200, 0.2);
  }
}

/* Drag feedback for timeline tracks */
.track-timeline-area.drag-active {
  background: rgba(0, 255, 200, 0.1) !important;
}

.track-timeline-area.drag-active .empty-track-message {
  animation: dragPulse 1s ease infinite;
  border-color: var(--ed-accent);
  color: var(--ed-accent);
  background: rgba(0, 255, 200, 0.1);
}

/* Dragging media item style */
.media-item.dragging {
  opacity: 0.5;
  transform: scale(0.98);
}

/* ================================================
   SCROLLBAR — Premiere thin dark style
   ================================================ */
.video-editor-pro ::-webkit-scrollbar { width: 6px; height: 6px; }
.video-editor-pro ::-webkit-scrollbar-track { background: #1a1a1a; }
.video-editor-pro ::-webkit-scrollbar-thumb { background: #3a3a3a; border-radius: 3px; }
.video-editor-pro ::-webkit-scrollbar-thumb:hover { background: #505050; }

/* ================================================
   FOCUS & ACCESSIBILITY
   ================================================ */
.tool-btn:focus-visible,
.control-btn-small:focus-visible,
.control-btn-play-small:focus-visible,
.timeline-option-btn:focus-visible,
.track-toggle-btn:focus-visible,
.effect-toggle:focus-visible,
.close-panel-btn:focus-visible {
  outline: 2px solid var(--ed-blue);
  outline-offset: 1px;
}

/* ================================================
   RESPONSIVE — Adjust at breakpoints
   ================================================ */
@media (max-width: 1400px) {
  .effects-panel-enhanced, .compositing-panel-enhanced { width: 300px; }
  .workspace-btn span { display: none; }
  .workspace-btn { padding: 6px 8px; }
  .timeline-display { font-size: 11px; padding: 5px 8px; }
}

@media (max-width: 1200px) {
  .editor-left-panel { width: 220px; min-width: 180px; }
  .track-headers-spacer, .track-headers-column { width: 200px; min-width: 200px; }
  .effects-panel-enhanced, .compositing-panel-enhanced { width: 260px; }
  .color-workspace, .audio-workspace { left: 220px; }
  .editor-menu-bar { flex-wrap: wrap; padding: 4px 8px; height: auto; }
}

@media (max-width: 1024px) {
  .editor-left-panel { width: 180px; min-width: 160px; }
  .track-headers-spacer, .track-headers-column { width: 180px; min-width: 180px; }
  .preview-area-container { flex-direction: column; }
  .preview-area + .preview-area { border-left: none; border-top: 2px solid var(--ed-border); }
  .workspace-buttons { flex-direction: column; gap: 2px; }
  .workspace-btn { font-size: 10px; padding: 4px 6px; }
}

@media (max-width: 768px) {
  .editor-navbar { height: 32px; padding: 0 4px; overflow-x: auto; }
  .editor-navbar .menu-button { padding: 4px 8px; font-size: 11px; }
  .editor-navbar .nav-logo { margin-right: 8px; padding: 3px 6px; }
  .editor-navbar .project-title { display: none; }
}

/* ================================================
   DETACHABLE PANEL SUPPORT
   ================================================ */
.detached-panel {
  width: 100%;
  height: 100vh;
  background: var(--ed-bg-panel);
  color: var(--ed-text);
  font-family: 'Segoe UI', -apple-system, sans-serif;
  font-size: 12px;
  overflow: auto;
}

.detached-panel .panel-drag-bar {
  height: 28px;
  background: var(--ed-bg-darkest);
  border-bottom: 1px solid var(--ed-border);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 10px;
  cursor: move;
  -webkit-app-region: drag;
}

.detached-panel .panel-drag-bar span {
  font-size: 11px;
  font-weight: 600;
  color: var(--ed-text-dim);
  text-transform: uppercase;
}

.detached-panel .panel-dock-btn {
  padding: 3px 10px;
  background: var(--ed-accent);
  color: #000;
  border: none;
  border-radius: 3px;
  font-size: 10px;
  font-weight: 600;
  cursor: pointer;
  -webkit-app-region: no-drag;
}

/* ================================================
   GLOBAL UTILITY: Resize cursor hints
   ================================================ */
.resize-handle-h {
  width: 4px;
  cursor: col-resize;
  background: transparent;
  transition: background 0.15s;
  flex-shrink: 0;
}

.resize-handle-h:hover,
.resize-handle-h.active {
  background: var(--ed-accent);
}

.resize-handle-v {
  height: 4px;
  cursor: row-resize;
  background: transparent;
  transition: background 0.15s;
  flex-shrink: 0;
}

.resize-handle-v:hover,
.resize-handle-v.active {
  background: var(--ed-accent);
}

/* ================================================
   GAP ELIMINATION PATCH — Paste at VERY BOTTOM of
   VideoEditorComponent.css
   
   Targets ALL inline JSX styles that create gaps
   using !important overrides
   ================================================ */

/* ROOT — zero out everything */
.video-editor-pro {
  margin: 0 !important;
  padding: 0 !important;
  gap: 0 !important;
}

/* TOOLBAR — compact, no extra space */
.editor-menu-bar {
  padding: 3px 8px !important;
  margin: 0 !important;
  min-height: 38px !important;
  background: #232323 !important;
  border-bottom: 1px solid #1a1a1a !important;
  gap: 4px !important;
}

/* MONITOR CONTAINER — zero gap between Source & Program */
.preview-area-container {
  gap: 0 !important;
  padding: 0 !important;
  margin: 0 !important;
  border: none !important;
  background: #1a1a1a !important;
}

/* Kill the ::after resize handle that adds bottom gap */
.preview-area-container::after {
  display: none !important;
}

/* Each monitor panel — override inline padding: '10px' */
.preview-area {
  padding: 0 !important;
  margin: 0 !important;
  border: none !important;
  gap: 0 !important;
}

/* Thin 1px divider between monitors instead of gap */
.preview-area + .preview-area {
  border-left: 1px solid #2a2a2a !important;
}

/* Monitor wrapper — no border-radius, no borders */
.preview-container {
  border-radius: 0 !important;
  border: none !important;
  margin: 0 !important;
  padding: 0 !important;
  background: #1a1a1a !important;
}

/* *** KEY FIX *** Monitor HEADER bars — override inline borderRadius: '6px 6px 0 0' */
/* This targets the div with inline styles inside .preview-container */
.preview-container > div:first-child {
  border-radius: 0 !important;
  margin: 0 !important;
  padding: 0 10px !important;
  height: 28px !important;
  min-height: 28px !important;
  max-height: 28px !important;
  background: #2a2a2a !important;
  border-bottom: 1px solid #333 !important;
}

/* Also catch ANY child div of preview-container that has border-radius */
.preview-container > div {
  border-radius: 0 !important;
}

/* Preview screen — flush */
.preview-screen {
  margin: 0 !important;
  padding: 0 !important;
  border: none !important;
  border-radius: 0 !important;
}

/* Preview bottom controls bar */
.preview-controls {
  height: 28px !important;
  min-height: 28px !important;
  max-height: 28px !important;
  margin: 0 !important;
  padding: 0 8px !important;
  background: #232323 !important;
  border-top: 1px solid #1a1a1a !important;
  border-radius: 0 !important;
}

/* d-flex container — no gaps */
.d-flex {
  gap: 0 !important;
  padding: 0 !important;
  margin: 0 !important;
}

/* Media Bin panel — flush against monitors */
.media-bin-panel {
  margin: 0 !important;
  padding: 0 !important;
  gap: 0 !important;
  border-top: 1px solid #333 !important;
}

/* Timeline section — flush */
.editor-timeline-section {
  margin: 0 !important;
  padding: 0 !important;
  gap: 0 !important;
  border-top: 1px solid #333 !important;
}

/* Kill timeline ::before resize handle gap */
.editor-timeline-section::before {
  display: none !important;
}

/* Center panel — no gaps */
.editor-center-panel {
  gap: 0 !important;
  padding: 0 !important;
  margin: 0 !important;
}

/* Main layout — no gaps */
.editor-main-layout {
  gap: 0 !important;
  padding: 0 !important;
  margin: 0 !important;
}
/* Monitor header bars — clean class-based control */
.monitor-header {
  height: 28px;
  min-height: 28px;
  max-height: 28px;
  padding: 0 10px;
  background: #2a2a2a;
  border-bottom: 1px solid #333;
  border-radius: 0;
}